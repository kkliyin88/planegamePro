"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Enarmy=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.ele=null,n.speed=5,n.active=3,n.score=1,n.dieimgs=[],n.type=e,n}return _inherits(t,Base),_createClass(t,[{key:"init",value:function(){switch(this.ele=document.createElement("div"),gameEngine.ele.appendChild(this.ele),gameEngine.allEnarmys.push(this),this.type){case this.Enarmy_Type_Large:this.ele.className="enemy-large",this.speed=this.Enarmy_Speed_Large,this.active=this.Enarmy_Active_Large,this.score=this.Enarmy_Score_Large,this.dieimgs=["img/playgame/plane3_die1.png","img/playgame/plane3_die2.png","img/playgame/plane3_die3.png","img/playgame/plane3_die4.png","img/playgame/plane3_die5.png","img/playgame/plane3_die6.png"];break;case this.Enarmy_Type_Middle:this.ele.className="enemy-middle",this.speed=this.Enarmy_Speed_Middle,this.active=this.Enarmy_Active_Middle,this.score=this.Enarmy_Score_Middle,this.dieimgs=["img/playgame/plane2_die1.png","img/playgame/plane2_die2.png","img/playgame/plane2_die3.png","img/playgame/plane2_die4.png"];break;case this.Enarmy_Type_Small:this.ele.className="enemy-small",this.speed=this.Enarmy_Speed_Small,this.active=this.Enarmy_Active_Small,this.score=this.Enarmy_Score_Small,this.dieimgs=["img/playgame/plane1_die1.png","img/playgame/plane1_die2.png"]}return this.ele.style.left=parseInt(Math.random()*(gameEngine.ele.offsetWidth-this.ele.offsetWidth))+"px",this.ele.style.top=-this.ele.offsetHeight+"px",this}},{key:"move",value:function(){var e=this;this.timer=setInterval(function(){console.log("kk"+e.ele),e.ele.offsetTop>gameEngine.ele.offsetHeight?(clearInterval(e.timer),gameEngine.ele.removeChild(e.ele),gameEngine.allEnarmys.splice(gameEngine.allEnarmys.indexOf(e),1)):e.ele.style.top=e.ele.offsetTop+3*e.speed+"px"},100)}},{key:"hurt",value:function(){this.active--,0==this.active&&this.burn()}},{key:"burn",value:function(){var e=this,t=0,n=setInterval(function(){t>=e.dieimgs.length?(clearInterval(n),gameEngine.ele.removeChild(e.ele),gameEngine.allEnarmys.splice(gameEngine.allEnarmys.indexOf(e),1)):e.ele.style.background="url("+e.dieimgs[t++]+")"},200)}}]),t}();Enarmy.prototype.Enarmy_Type_Large=3,Enarmy.prototype.Enarmy_Type_Middle=2,Enarmy.prototype.Enarmy_Type_Small=1,Enarmy.prototype.Enarmy_Speed_Large=1,Enarmy.prototype.Enarmy_Speed_Middle=2,Enarmy.prototype.Enarmy_Speed_Small=3,Enarmy.prototype.Enarmy_Active_Large=3,Enarmy.prototype.Enarmy_Active_Middle=2,Enarmy.prototype.Enarmy_Active_Small=1,Enarmy.prototype.Enemy_Score_Large=3,Enarmy.prototype.Enemy_Score_Middle=2,Enarmy.prototype.Enemy_Score_Small=1;